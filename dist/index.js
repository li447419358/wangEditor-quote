import{h as e}from"snabbdom";import{DomEditor as a}from"@wangeditor/editor";var n={editorPlugin:function(e){e.insertText;var n=e.isInline,s=e.isVoid,o=e;return o.isInline=function(e){return"quoteMessage"!==a.getNodeType(e)&&n(e)},o.isVoid=function(e){return"quoteMessage"===a.getNodeType(e)||s(e)},o},renderElems:[{type:"quoteMessage",renderElem:function(a,n,s){var o,t=a||{};t.src;var l,p=t.name,r=void 0===p?"":p,i=t.info,c=void 0===i?{}:i,d=e("p",{style:{fontSize:"14px",fontWeight:"bold",margin:"0",color:"#5A5A5A"}},[r]);if(0===c.type){for(var g=c.messageInfo.replace(/<img[^>]*>/g,"[图片]").replace(/<a\b[^>]*>(.*?)<\/a>/g,"<span>$1</span>"),f=/<p[^>]*>(.*?)<\/p>/g,m=[],u=void 0;null!==(u=f.exec(g));)m.push(u[1]);var v=m.map((function(e){return e.replace(/<span.*?>[图片]<\/span>/g,"[图片]").replace("&nbsp;","")}));v=v.map((function(e){return e.replace(/<span[^>]*>/g,"").replace(/<[</span>$]+>/g,"")}));var x=e("p",{style:{margin:"0",textWrap:"nowrap",textOverflow:"ellipsis",overflow:"hidden"}},[v[0]]),w=v[1]?e("p",{style:{margin:"0",textWrap:"nowrap",textOverflow:"ellipsis",overflow:"hidden"}},[v[1]]):null;l=w?[d,x,w]:[d,x]}else{l=[d,x=e("p",{style:{margin:"0",textWrap:"nowrap",textOverflow:"ellipsis",overflow:"hidden"}},[c.messageInfo])]}return e("p",{props:{contentEditable:!1},style:{display:"inline-block",borderLeft:"4px solid #c0cfde",color:"#7b7b7b",marginLeft:"3px",marginRight:"3px",backgroundColor:"#f7f7f8",borderRadius:"3px",padding:"4px 8px",userSelect:"none"},attrs:(o={},o["message-id"]=c.messageId,o)},l)}}],parseElemsHtml:[{selector:'span[data-w-e-type="quoteMessage"]',parseElemHtml:function(e,a,n){return{type:"quoteMessage",children:[{text:""}]}}}],elemsToHtml:[{type:"quoteMessage",elemToHtml:function(e,a){var n,s=e,o=s.name,t=void 0===o?"":o,l=s.info,p=void 0===l?{}:l;if(0===p.type){for(var r=p.messageInfo.replace(/<img[^>]*>/g,"[图片]").replace(/<a\b[^>]*>(.*?)<\/a>/g,"<span>$1</span>"),i=/<p[^>]*>(.*?)<\/p>/g,c=[],d=void 0;null!==(d=i.exec(r));)c.push(d[1]);var g=c.map((function(e){return e.replace(/<span.*?>[图片]<\/span>/g,"[图片]")}));g=g.map((function(e){return e.replace(/<span[^>]*>/g,"").replace(/<[</span>$]+>/g,"")})),n='\n            <span data-w-e-type="quoemessage" data-w-e-is-void data-w-e-is-inline message-id="'.concat(p.messageId,'"" class="quoteClass">\n            <span style="font-size:14px;font-weight: bold;line-height: 16px;display: block;color:#5A5A5A; margin-bottom: 10px">').concat(t,'</span>\n            <span style="display: block;margin: 0;white-space: normal;line-height: 22px;text-overflow: ellipsis;overflow: hidden;color: #8F959E;">').concat(g[0],"</span>\n            ").concat(g[1]?'<span style="line-height: 1.5;display: block;display: block;margin: 0;textWrap: nowrap;textOverflow: ellipsis;overflow: hidden;color: #8F959E;">'.concat(g[1],"</span>"):"","\n            </span>\n        ")}else n='\n            <span data-w-e-type="quoemessage" data-w-e-is-void data-w-e-is-inline message-id="'.concat(p.messageId,'"" class="quoteClass">\n            <span style="font-size:14px;font-weight: bold;line-height: 16px;display: block;color:#5A5A5A;">').concat(t,'</span>\n            <span style="display: block;display: block;margin: 0;textWrap: nowrap;textOverflow: ellipsis;overflow: hidden;color: #8F959E;">').concat(p.messageInfo,"</span>\n            </span>\n         ");return n}}]};export{n as default};
