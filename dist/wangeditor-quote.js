import{h as e}from"snabbdom";import{DomEditor as n}from"@wangeditor/editor";var a={editorPlugin:function(e){e.insertText;var a=e.isInline,s=e.isVoid,o=e;return o.isInline=function(e){return"quoteMessage"!==n.getNodeType(e)&&a(e)},o.isVoid=function(e){return"quoteMessage"===n.getNodeType(e)||s(e)},o},renderElems:[{type:"quoteMessage",renderElem:function(n,a,s){var o,t=n||{};t.src;var i,p=t.name,l=void 0===p?"":p,r=t.info,c=void 0===r?{}:r,d=e("span",{style:{fontSize:"14px",fontWeight:"bold",margin:"0",color:"#5A5A5A"}},[l+":"]);if(0===c.type){for(var g=c.messageInfo.replace(/<img[^>]*>/g,"[图片]").replace(/<a\b[^>]*>(.*?)<\/a>/g,"<span>$1</span>"),m=/<p[^>]*>(.*?)<\/p>/g,f=[],u=void 0;null!==(u=m.exec(g));)f.push(u[1]);var y=f.map((function(e){return e.replace(/<span.*?>[图片]<\/span>/g,"[图片]").replace("&nbsp;","")}));i=[d,e("span",{style:{fontSize:"14px"}},[y.join("")])]}else{i=[d,e("span",{style:{fontSize:"14px"}},[c.messageInfo])]}return e("span",{props:{contentEditable:!1},style:{display:"inline-block",color:"#7b7b7b",marginLeft:"3px",marginRight:"3px",backgroundColor:"#f7f7f8",borderRadius:"3px",padding:"4px 8px",userSelect:"none"},attrs:(o={},o["message-id"]=c.messageId,o)},i)}}],parseElemsHtml:[{selector:'span[data-w-e-type="quoteMessage"]',parseElemHtml:function(e,n,a){return{type:"quoteMessage",children:[{text:""}]}}}],elemsToHtml:[{type:"quoteMessage",elemToHtml:function(e,n){var a,s=e,o=s.name,t=void 0===o?"":o,i=s.info,p=void 0===i?{}:i;if(0===p.type){for(var l=p.messageInfo.replace(/<img[^>]*>/g,"[图片]").replace(/<a\b[^>]*>(.*?)<\/a>/g,"<span>$1</span>"),r=/<p[^>]*>(.*?)<\/p>/g,c=[],d=void 0;null!==(d=r.exec(l));)c.push(d[1]);var g=c.map((function(e){return e.replace(/<span.*?>[图片]<\/span>/g,"[图片]")}));g=g.map((function(e){return e.replace(/<span[^>]*>/g,"").replace(/<[</span>$]+>/g,"")})),a='\n            <span data-w-e-type="quoemessage" data-w-e-is-void data-w-e-is-inline message-id="'.concat(p.messageId,'"" class="quoteClass">\n            <span style="font-size:14px;font-weight: bold;line-height: 16px;display: block;color:#5A5A5A; margin-bottom: 10px">').concat(t,'</span>\n            <span style="display: block;margin: 0;white-space: normal;line-height: 22px;text-overflow: ellipsis;overflow: hidden;color: #8F959E;">').concat(g[0],"</span>\n            ").concat(g[1]?'<span style="line-height: 1.5;display: block;display: block;margin: 0;textWrap: nowrap;textOverflow: ellipsis;overflow: hidden;color: #8F959E;">'.concat(g[1],"</span>"):"","\n            </span>\n        ")}else a='\n            <span data-w-e-type="quoemessage" data-w-e-is-void data-w-e-is-inline message-id="'.concat(p.messageId,'"" class="quoteClass">\n            <span style="font-size:14px;font-weight: bold;line-height: 16px;display: block;color:#5A5A5A;">').concat(t,'</span>\n            <span style="display: block;display: block;margin: 0;textWrap: nowrap;textOverflow: ellipsis;overflow: hidden;color: #8F959E;">').concat(p.messageInfo,"</span>\n            </span>\n         ");return a}}]};export{a as default};
